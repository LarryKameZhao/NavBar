.<!DOCTYPE html>
<html lang="zh-Hans">
<head>
	<meta charset="utf-8">
	<title>我的导航</title>
	<link rel="stylesheet" href="./style.css">
</head>
<body>

	<header></header>

	<main>
		
		
		<div class="wrapper" id = "main"></div>
	</main>

	<footer></footer>

	<script >
		var keys = {
			0:['q','w','e','r','t','y','u','i','o','p'],
			1:['a','s','d','f','g','h','j','k','l'],
			2:['z','x','c','v','b','n','m'],
			length:3
		}

		var hash = {
			'q':'qq.com',
			'w':'weibo.com',
			'e':'ele.me',
			'r':'renren.com',
			't':'tianya.com',
			'u':'uc.com',
			'i':'iqiyi.com',
			'o':'opera.com',
			'p':undefined,
			'a':'acfun.com',
			's':'sohu.com'

		}
		//取出localstorage中‘key1’中的hash
		var hashInLocalStorage = JSON.parse(localStorage.getItem('key')||'null');

		if (hashInLocalStorage){
			hash = hashInLocalStorage;
		}

		index = 0;

		function localStorage(name){
			JSON.parse(localStorage.getItem(name)||'null'
		}

		while(index < keys.length)
		{
			var div = document.createElement('div');
			div.className = 'row';
			main.appendChild(div);
			var row = keys[index]
			index2 = 0;
			while(index2<row.length){
				kbd = document.createElement('kbd');
				span = document.createElement('span');
				span.className = 'text'
				kbd.textContent = row[index2];
				kbd.appendChild(span);

				kbd.className = 'key';
				button = document.createElement('button');
				button.textContent = 'Edit';
				button.id = row[index2];
				image = document.createElement('img');
				if(hash[row[index2]])
				{
					image.src ='http://'+ hash[row[index2]]+'/favicon.ico'
				}
				else {
					image.src ='//i.loli.net/2017/11/10/5a05afbc5e183.png'
				}

				image.error = function(event){
					event.target.src = '//i.loli.net/2017/11/10/5a05afbc5e183.pn'
				}
				
				image.src ='http://'+ hash[row[index2]]+'/favicon.ico'
				kbd.appendChild(button);
				kbd.appendChild(image);
				button.onclick = function(event)
				{
					button2 = event['target'];
					img2 = button2.previousSibling;
					key = button2['id'];
					x = prompt('给我一个个网址');
					hash[key] = x;//hash变更
					img2.src = 'http://'+x+'/favicon.ico';
					img2.onerror = function(event){
						event.target.src = '//i.loli.net/2017/11/10/5a05afbc5e183.pn'
					}
					localStorage.setItem('key',JSON.stringify(hash));
					console.log(hash);

				}
				div.appendChild(kbd);
				index2++;
			}
			
			
			index++;
		}
		//监听键盘
		document.onkeypress = function(event){
			key = event['key'];
			website = hash[key];
			console.log(website);
			window.open('http://'+website,'_blank');
		}

	</script>

</body>
</html>